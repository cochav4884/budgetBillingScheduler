<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Savings Tracking | Budget Guide</title>

    <link rel="icon" type="image/png" href="public/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="public/favicon.svg" />
<link rel="shortcut icon" href="public/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="public/apple-touch-icon.png" />
<meta name="apple-mobile-web-app-title" content="Budget Guide" />
<link rel="manifest" href="public/site.webmanifest" />

  <link rel="stylesheet" href="styles/index.css" />
  <link rel="stylesheet" href="styles/savingsTracking.css" />
</head>
<body>

<!-- NAVIGATION -->
<nav class="navbar">
  <div class="nav-left">
    <a href="index.html" class="nav-home">
      <img src="images/logo.jpeg" alt="Budget Guide app logo" class="logo" />
      <span class="nav-title">Budget Guide</span>
    </a>
  </div>

  <div class="nav-right">
    <ul class="nav-list">
      <li class="dropdown">
        <a href="#" class="dropbtn">Menu â¬‡</a>
        <ul class="dropdown-content">
          <li><a href="index.html" class="link-home">Home</a></li>
          <li><a href="budget.html" class="link-budget">Budget</a></li>
          <li><a href="savingsTracking.html" class="link-settings">Savings & Tracker</a></li>
          <li><a href="privacyPolicy.html" class="link-privacy">Privacy Policy</a></li>
          <li><a href="legalDisclaimer.html" class="link-legal">Legal Disclaimer</a></li>
        </ul>
      </li>
    </ul>
  </div>
</nav>

<header class="page-header">
  <h1>ðŸ’° Savings Tracker</h1>
  <p>Track your monthly savings and watch your balance grow.</p>
</header>

<main class="container">

  <!-- BALANCE DISPLAY -->
  <section class="balance-card">
    <h2>Total Savings Balance</h2>
    <div id="totalBalance">$0.00</div>
  </section>

  <!-- SAVINGS FORM -->
  <section class="tracker-card">
    <h2>Monthly Savings Entries</h2>

    <div id="entriesContainer"></div>

    <div class="form-actions">
      <button type="button" id="addEntryBtn">âž• Add Entry</button>
      <button type="button" id="resetAllBtn" class="danger">ðŸ”„ Reset All</button>
    </div>
  </section>

</main>

<!-- Footer -->
<footer class="footer">
  <div class="footer-container">

    <!-- Creator / Brand -->
    <div class="footer-brand">
      <p class="footer-title">Budget Guide</p>
      <p class="footer-subtitle">
        Your Personal Finance Companion
      </p>
      <p class="footer-creator">Creator / Designer:</p>
      <p class="footer-name">Corinne Padilla</p>
      <a
        href="https://www.linkedin.com/in/corinne-padilla-3ba8bb238/"
        target="_blank"
        rel="noopener noreferrer"
        class="footer-link"
      >
        <i class="fab fa-linkedin fa-lg"></i> LinkedIn
      </a>
    </div>

    <!-- Links -->
    <div class="footer-links">
      <a href="privacyPolicy.html" class="footer-link-simple">Privacy Policy</a>
      <span class="footer-divider">|</span>
      <a href="legalDisclaimer.html" class="footer-link-simple">Legal Disclaimer</a>
    </div>

    <!-- Back to Top -->
    <div class="footer-bottom">
      <button type="button" id="backToTop" class="back-to-top">
        â¬† Back to Top
      </button>
      <p class="footer-copy">
        &copy; 2026 Budget Guide. All rights reserved.
      </p>
    </div>

  </div>
</footer>

<!-- Footer Script -->
<script>
  const backToTop = document.getElementById("backToTop");
  backToTop.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>


<script>
const entriesContainer = document.getElementById("entriesContainer");
const totalBalanceDisplay = document.getElementById("totalBalance");
const addEntryBtn = document.getElementById("addEntryBtn");
const resetAllBtn = document.getElementById("resetAllBtn");

let savingsEntries = JSON.parse(localStorage.getItem("savingsEntries")) || [];
let totalBalance = parseFloat(localStorage.getItem("totalSavings")) || 0;

/* ---------- Helpers ---------- */
function saveData() {
  localStorage.setItem("savingsEntries", JSON.stringify(savingsEntries));
  localStorage.setItem("totalSavings", totalBalance.toFixed(2));
}

function updateBalanceDisplay() {
  totalBalanceDisplay.textContent = `$${totalBalance.toFixed(2)}`;
}

/* ---------- Entry Creation ---------- */
function createEntry(data = {}, index = null) {
  const entry = document.createElement("article");
  entry.className = "entry";

  entry.innerHTML = `
    <div class="entry-grid">
      <div>
        <label>Date</label>
        <input type="date" value="${data.date || ""}">
      </div>

      <div>
        <label>Amount Saved ($)</label>
        <input type="number" step="0.01" value="${data.amount || ""}">
      </div>

      <div class="entry-actions">
        <button type="button" class="delete-btn">ðŸ—‘ Delete</button>
      </div>
    </div>
  `;

  const dateInput = entry.querySelector('input[type="date"]');
  const amountInput = entry.querySelector('input[type="number"]');
  const deleteBtn = entry.querySelector(".delete-btn");

  let previousAmount = parseFloat(data.amount) || 0;

  function sync() {
    const newAmount = parseFloat(amountInput.value) || 0;
    totalBalance += newAmount - previousAmount;
    previousAmount = newAmount;

    if (index !== null) {
      savingsEntries[index] = {
        date: dateInput.value,
        amount: newAmount
      };
    } else {
      savingsEntries.push({
        date: dateInput.value,
        amount: newAmount
      });
      index = savingsEntries.length - 1;
    }

    saveData();
    updateBalanceDisplay();
  }

  dateInput.addEventListener("input", sync);
  amountInput.addEventListener("input", sync);

  deleteBtn.addEventListener("click", () => {
    totalBalance -= previousAmount;
    savingsEntries.splice(index, 1);
    saveData();
    updateBalanceDisplay();
    renderEntries();
  });

  entriesContainer.appendChild(entry);
}

/* ---------- Render ---------- */
function renderEntries() {
  entriesContainer.innerHTML = "";
  totalBalance = 0;

  savingsEntries.forEach(entry => {
    totalBalance += parseFloat(entry.amount) || 0;
  });

  savingsEntries.forEach((entry, i) => createEntry(entry, i));
  updateBalanceDisplay();

  if (savingsEntries.length === 0) {
    createEntry();
  }
}

/* ---------- Buttons ---------- */
addEntryBtn.addEventListener("click", () => {
  createEntry();
});

resetAllBtn.addEventListener("click", () => {
  if (!confirm("Are you sure you want to reset all savings data?")) return;
  savingsEntries = [];
  totalBalance = 0;
  localStorage.removeItem("savingsEntries");
  localStorage.removeItem("totalSavings");
  renderEntries();
});

/* ---------- Init ---------- */
renderEntries();
</script>

</body>
</html>
